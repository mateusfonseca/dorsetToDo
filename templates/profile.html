{% extends "base.html" %}

{% block content %}
    <div class="column is-4 is-offset-4">
        <h3 class="title">Account Details</h3>
        <div class="box">
            <div class="local-is-center" style="margin-bottom: 24px">
                <figure class="image is-128x128">
                    {# Random avatar placeholder from pravatar.cc #}
                    <img class="is-rounded" src="https://i.pravatar.cc/128" alt="profile picture">
                </figure>
            </div>
            <form id="form-update" method="POST" action="{{ url_for('auth.update', user_id=user.id) }}"></form>
            <form id="form-delete" method="POST" action="{{ url_for('auth.delete', user_id=user.id) }}"></form>
            <div class="field">
                <div class="control">
                    <input form="form-update" class="input is-large" type="email" name="email" value="{{ user.email }}"
                           disabled aria-label="email input" placeholder="Email">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <input form="form-update" class="input is-large" type="text" name="name" value="{{ user.name }}"
                           disabled aria-label="name input" placeholder="Name">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <input form="form-update" class="input is-large" type="password" name="password" value="********"
                           disabled aria-label="password input" placeholder="Password">
                </div>
            </div>
            <div class="field control">
                <button id="button-update" class="button is-block is-info is-large is-fullwidth" type="button"
                        onclick="toggleForm('{{ user.email }}', '{{ user.name }}', '********')">
                    Update
                </button>
            </div>
            <div class="field control">
                <input form="form-delete" id="button-delete" class="button is-block is-danger is-large is-fullwidth"
                       type="submit"
                       onclick="return confirm('Are you sure you want to delete your account?')" value="Delete">
            </div>
        </div>
    </div>
{% endblock %}
